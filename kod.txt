@echo off
setlocal EnableDelayedExpansion

REM --- Login Section ---
:login
chcp 65001 >nul
COLOR E0
title .gg/tUaDU43R
mode 50,10
color 0d
echo.
echo               UUID Verification System
echo.

REM Function to fetch HWID from system
:getHWID
for /f "delims=" %%a in ('powershell -Command "(Get-WmiObject Win32_ComputerSystemProduct).UUID" 2^>nul') do set "hwid=%%a"

REM Check if HWID retrieval was successful
if "%hwid%"=="" (
    echo Failed to retrieve HWID. Exiting...
    timeout /t 3 >nul
    exit /b 1
)

REM GitHub file URL for UUID comparison
set "githubFileURL=https://raw.githubusercontent.com/zMorz/uuid-data/main/hwid.txt"

REM Check if curl is available
where curl >nul 2>nul
if %errorlevel% neq 0 (
    echo Error: curl is not installed. Please install curl or update your PATH environment variable.
    timeout /t 3 >nul
    exit /b 1
)

REM Function to fetch content from URL and compare HWID
:compareHWID
REM Fetch the content of the GitHub file
curl -s "%githubFileURL%" > temp.txt

REM Check if the file download was successful
if not exist temp.txt (
    echo Failed to download UUID data. Exiting...
    timeout /t 3 >nul
    exit /b 1
)

REM Retrieve the HWID from temp file
for /f "usebackq delims=" %%b in ("temp.txt") do set "content=%%b"

REM Compare the HWID with the fetched content
if "%hwid%"=="%content%" (
    echo    Login Successful...
    timeout /t 3 >nul
) else (
    echo Invalid UUID
    timeout /t 3 >nul
    goto :login
)
del temp.txt

REM --- Main Menu Section ---
:main
@echo off
color 0D
title .gg/JMezeVcWaK
mode 80,15
cls
echo.
echo                                  Morz Tweaker
echo.
echo.
echo                            Press "1" for Frame Tweak
echo.
echo.
echo       Press "2" for Lag Tweak                  Press "3" for Knockback Tweak
echo.
echo.
echo                           Press "4" for Hit Boost Tweak
echo.
echo.

set /p Number="Select the Tweak:"

REM Validate user input
if "%Number%"=="1" goto :Frame
if "%Number%"=="2" goto :Lag
if "%Number%"=="3" goto :Knockback
if "%Number%"=="4" goto :hit

echo Invalid choice. Please try again.
timeout /t 3 >nul
goto :main

REM --- Frame Tweak Section ---
:Frame

cls
wmic process where name="java.exe" CALL setpriority "realtime"
wmic process where name="bootstrap.exe" CALL setpriority "realtime"
del /s /f /q C:\WINDOWS\Prefetch
del /s /f /q %temp%\*.*
rd /s /q %temp%
md %temp%
deltree /y c:\windows\tempor~1
deltree /y c:\windows\temp
deltree /y c:\windows\tmp
deltree /y c:\windows\ff*.tmp
deltree /y c:\windows\history
deltree /y c:\windows\cookies
deltree /y c:\windows\recent
deltree /y c:\windows\spool\printers
del c:\WIN386.SWP

REM Registry modifications for Frame Tweak
reg add "HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Run" /v "ProgramName" /t REG_SZ /d "path_to_program" /f
reg add "HKCU\Software\Microsoft\Windows\CurrentVersion\Explorer\VisualEffects" /v "VisualFXSetting" /t REG_DWORD /d 2 /f
reg add "HKCU\Software\Microsoft\Windows\CurrentVersion\Explorer\Advanced" /v "ShowSyncProviderNotifications" /t REG_DWORD /d 0 /f
Taskkill /IM "Gamebar.exe" /F
reg add "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\PolicyManager\default\ApplicationManagement" /v "AllowGameDVR" /d "6" /t REG_DWORD /f
reg add "HKCU\Control Panel\Desktop" /v HungAppTimeout /t REG_SZ /d 2000 /f
reg add "HKCU\Control Panel\Desktop" /v WaitToKillAppTimeout /t REG_SZ /d 2000 /f
reg add "HKCU\Control Panel\Desktop" /v MenuShowDelay /t REG_SZ /d 400 /f
reg add "HKCU\Control Panel\Desktop" /v AutoEndTasks /t REG_SZ /d 1 /f
reg add "HKCU\Control Panel\Desktop" /v LowLevelHooksTimeout /t REG_SZ /d 2000 /f
reg add "HKCU\Control Panel\Desktop" /v ForegroundLockTimeout /t REG_SZ /d 0 /f
reg add "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\DirectX" /v VideoMemorySize /t REG_DWORD /d 1600 /f
reg add "HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\GraphicsDrivers" /v TdrDelay /t REG_DWORD /d 25 /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Memory Management" /v ClearPageFileAtShutdown /t REG_DWORD /d 1 /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Memory Management" /v DisablePagingExecutive /t REG_DWORD /d 1 /f
reg add "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Multimedia\SystemProfile" /v SystemResponsiveness /t REG_DWORD /d 0 /f

REM Set performance power plan
powercfg /S SCHEME_MIN
powercfg /s 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c

REM Set processor performance state
powercfg /SETACVALUEINDEX SCHEME_MIN SUB_PROCESSOR PERFINCREASE_THRESHOLD 100
powercfg /SETDCVALUEINDEX SCHEME_MIN SUB_PROCESSOR PERFINCREASE_THRESHOLD 100
powercfg /SETACVALUEINDEX SCHEME_MIN SUB_PROCESSOR PERFDROP_THRESHOLD 0
powercfg /SETDCVALUEINDEX SCHEME_MIN SUB_PROCESSOR PERFDROP_THRESHOLD 0
powercfg /SETACVALUEINDEX SCHEME_MIN SUB_PROCESSOR PERFDECREASE_THRESHOLD 0
powercfg /SETDCVALUEINDEX SCHEME_MIN SUB_PROCESSOR PERFDECREASE_THRESHOLD 0

REM Apply the changes
powercfg /SETACTIVE SCHEME_MIN

REM game mode
reg add "HKCU\Software\Microsoft\GameBar" /v AllowAutoGameMode /t REG_DWORD /d 1 /f
reg add "HKCU\System\GameConfigStore" /v GameDVR_Enabled /t REG_DWORD /d 1 /f
cleanmgr /sagerun:1
nvidia-smi -ac 2505,1911
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\PriorityControl" /v Win32PrioritySeparation /t REG_DWORD /d 2 /f

REM Additional registry modifications for Frame Tweak
reg add "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Multimedia\SystemProfile" /v NetworkThrottlingIndex /t REG_DWORD /d FFFFFFFF /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters" /v TCPAckFrequency /t REG_DWORD /d 1 /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters" /v TCPNoDelay /t REG_DWORD /d 1 /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters" /v DefaultTTL /t REG_DWORD /d 78 /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\Interfaces" /v MTU /t REG_DWORD /d 1400 /f
cls
echo.
echo                          Frame Tweak applied successfully.
timeout /t 3 >nul
goto :main

REM --- Lag Tweak Section ---
:Lag   
reg add "HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer" /v Serialize /t REG_DWORD /d 0 /f

REM Additional registry modifications for Lag Tweak
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters" /v DefaultTTL /t REG_DWORD /d 78 /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\Interfaces" /v MTU /t REG_DWORD /d 1400 /f
REM netsh
netsh int tcp set global autotuninglevel=disabled
netsh interface tcp set global rwin=64240
ipconfig /flushdns
REM Release and renew IP address
ipconfig /release
ipconfig /renew
REM Display current network configuration
ipconfig /all
REM Add your Lag Tweak commands here
cls
echo.
echo                         Lag Tweak applied successfully.
timeout /t 3 >nul
goto :main

REM --- Knockback Tweak Section ---
:Knockback
REG ADD "HKCU\Software\Microsoft\Windows\CurrentVersion\Explorer\Advanced" /v "DisablePreviewDesktop" /t REG_DWORD /d 1 /f
REG ADD "HKCU\Software\Microsoft\Windows\CurrentVersion\Explorer\Advanced" /v "ExtendedUIHoverTime" /t REG_DWORD /d 200 /f
cls
echo.
echo                         Knockback Tweak applied successfully.
timeout /t 3 >nul
goto :main

REM --- Hit Boost Tweak Section ---
:hit
netsh int tcp set global chimney=disabled
netsh int tcp set global autotuninglevel=high
netsh int tcp set global ecncapability=disabled
netsh int tcp set global timestamps=disabled
netsh int tcp set global netdma=enabled
netsh int tcp set supplemental template=custom icw=10
netsh interface ipv4 set subinterface "Ethernet" mtu=1520 store=persistent
netsh interface ipv6 set subinterface "Ethernet" mtu=1480 store=persistent
netsh interface tcp set global rwin=64240
ipconfig /flushdns
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\USBSTOR\Parameters" /v MaximumTransferLength /t REG_DWORD /d 2097120 /f
reg add "HKLM\SYSTEM\CurrentControlSet\Services\USB" /v "DisableSelectiveSuspend" /t REG_DWORD /d 1 /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\usbflags" /v DisableSelectiveSuspend /t REG_DWORD /d 1 /f
reg add "HKLM\SYSTEM\CurrentControlSet\Services\usbhub\Parameters" /v "DisableOnSoftRemove" /t REG_DWORD /d 0 /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\usbflags" /v USBBIOSx /t REG_DWORD /d 0 /f
set DEVMGR_SHOW_NONPRESENT_DEVICES=1
REM Additional registry modifications for Hit Boost Tweak
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters" /v DefaultTTL /t REG_DWORD /d 78 /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\Interfaces" /v MTU /t REG_DWORD /d 1400 /f
cls
echo.
echo                           Hit Boost Tweak applied successfully.
timeout /t 3 >nul
goto :main
pause >nul
REM --- End of Script ---
